define("jquery-plugin/wookmark/0.5/wookmark",[],function(b,a,c){return function(d){var e=d;d.fn.wookmark=function(f){if(!this.wookmarkOptions){this.wookmarkOptions=d.extend({container:d("body"),offset:2,autoResize:false,itemWidth:d(this[0]).outerWidth(),resizeDelay:50},f)}else{if(f){this.wookmarkOptions=d.extend(this.wookmarkOptions,f)}}if(!this.wookmarkColumns){this.wookmarkColumns=null;this.wookmarkContainerWidth=null}this.wookmarkLayout=function(){var j,i,h,k,g=0;j=this.wookmarkOptions.itemWidth+this.wookmarkOptions.offset;i=this.wookmarkOptions.container.width();h=Math.floor((i+this.wookmarkOptions.offset)/j);k=Math.round((i-(h*j-this.wookmarkOptions.offset))/2);if(this.wookmarkColumns!==null&&this.wookmarkColumns.length===h){g=this.wookmarkLayoutColumns(j,k)}else{g=this.wookmarkLayoutFull(j,h,k)}this.wookmarkOptions.container.css("height",g+"px")};this.wookmarkLayoutFull=function(l,n,p){var s=[],u,t,m,q=0,o=0,j=this.length,r=null,h=null,g=0;while(s.length<n){s.push(0)}this.wookmarkColumns=[];while(this.wookmarkColumns.length<n){this.wookmarkColumns.push([])}for(q=0;q<j;q++){u=d(this[q]);r=null;h=0;for(o=0;o<n;o++){if(r===null||s[o]<r){r=s[o];h=o}}u.css({position:"absolute",top:r+"px",left:(h*l+p)+"px"});s[h]=r+u.outerHeight()+this.wookmarkOptions.offset;g=Math.max(g,s[h]);this.wookmarkColumns[h].push(u)}return g};this.wookmarkLayoutColumns=function(h,n){var q=[],g=0,p=0,j=this.wookmarkColumns.length,l,m=0,o,r;while(q.length<this.wookmarkColumns.length){q.push(0)}for(p=0;p<j;p++){l=this.wookmarkColumns[p];o=l.length;for(m=0;m<o;m++){r=l[m];r.css({left:(p*h+n)+"px",top:q[p]+"px"});q[p]+=r.outerHeight()+this.wookmarkOptions.offset;g=Math.max(g,q[p])}}return g};this.wookmarkResizeTimer=null;if(!this.wookmarkResizeMethod){this.wookmarkResizeMethod=null}if(this.wookmarkOptions.autoResize){this.wookmarkOnResize=function(g){if(this.wookmarkResizeTimer){clearTimeout(this.wookmarkResizeTimer)}this.wookmarkResizeTimer=setTimeout(d.proxy(this.wookmarkLayout,this),this.wookmarkOptions.resizeDelay)};if(!this.wookmarkResizeMethod){this.wookmarkResizeMethod=d.proxy(this.wookmarkOnResize,this)}d(window).resize(this.wookmarkResizeMethod)}this.wookmarkClear=function(){if(this.wookmarkResizeTimer){clearTimeout(this.wookmarkResizeTimer);this.wookmarkResizeTimer=null}if(this.wookmarkResizeMethod){d(window).unbind("resize",this.wookmarkResizeMethod)}};this.wookmarkLayout();this.show()}}});